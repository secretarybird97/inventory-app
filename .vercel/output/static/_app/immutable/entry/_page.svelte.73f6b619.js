import{C as Mt,S as $n,i as Mn,s as Gn,k as R,q as J,a as ie,l as $,m as N,r as X,h as I,c as se,n as G,b as ke,G as O,N as or,u as ar,L as xt,O as co,P as ir,g as Ot,f as ho,d as sr,Q as po,y as fo,z as mo,A as yo,B as vo,v as Po}from"../chunks/index.f2a1b1a1.js";import{w as go}from"../chunks/index.ddefa790.js";const pe=go([]),_o=t=>{let e=Mt(pe);e.findIndex(r=>r.id==t)!==-1?pe.update(()=>e.map(o=>o.id===t?{...o,quantity:o.quantity+1}:o)):pe.update(()=>[...e,{id:t,quantity:1}])},To=t=>{var r;let e=Mt(pe),n=e.findIndex(o=>o.id==t);((r=e[n])==null?void 0:r.quantity)-1===0&&e.splice(n,1),pe.update(()=>e.map(a=>a.id===t?{...a,quantity:a.quantity-1}:a))};function Gr(t){let e,n,r,o=t[1].quantity+"",a;return{c(){e=R("div"),n=J("Cantidad: "),r=R("strong"),a=J(o),this.h()},l(l){e=$(l,"DIV",{class:!0});var u=N(e);n=X(u,"Cantidad: "),r=$(u,"STRONG",{});var c=N(r);a=X(c,o),c.forEach(I),u.forEach(I),this.h()},h(){G(e,"class","card-body px-4")},m(l,u){ke(l,e,u),O(e,n),O(e,r),O(r,a)},p(l,u){u&2&&o!==(o=l[1].quantity+"")&&ar(a,o)},d(l){l&&I(e)}}}function Eo(t){let e,n;return{c(){e=R("img"),this.h()},l(r){e=$(r,"IMG",{src:!0,alt:!0}),this.h()},h(){ir(e.src,n="https://picsum.photos/200/300")||G(e,"src",n),G(e,"alt","")},m(r,o){ke(r,e,o)},p:xt,d(r){r&&I(e)}}}function So(t){let e,n;return{c(){e=R("img"),this.h()},l(r){e=$(r,"IMG",{src:!0,alt:!0}),this.h()},h(){ir(e.src,n=t[0].img)||G(e,"src",n),G(e,"alt","")},m(r,o){ke(r,e,o)},p(r,o){o&1&&!ir(e.src,n=r[0].img)&&G(e,"src",n)},d(r){r&&I(e)}}}function bo(t){let e,n,r,o=t[0].name+"",a,l,u,c,s,d=t[0].price+"",f,h,p,m,v,_,y,E,T,F,S,g,w,P=t[1]!==void 0&&Gr(t);function k(x,A){return x[0].img!==void 0?So:Eo}let U=k(t),D=U(t);return{c(){e=R("div"),n=R("header"),r=R("h2"),a=J(o),l=ie(),P&&P.c(),u=ie(),c=R("div"),s=J("Precio: $"),f=J(d),h=J(" MXN"),p=ie(),m=R("footer"),v=R("button"),_=J("Agragar"),y=ie(),E=R("button"),T=J("Remover"),F=ie(),S=R("div"),D.c(),this.h()},l(x){e=$(x,"DIV",{class:!0});var A=N(e);n=$(A,"HEADER",{class:!0});var j=N(n);r=$(j,"H2",{});var z=N(r);a=X(z,o),z.forEach(I),j.forEach(I),l=se(A),P&&P.l(A),u=se(A),c=$(A,"DIV",{class:!0});var K=N(c);s=X(K,"Precio: $"),f=X(K,d),h=X(K," MXN"),K.forEach(I),p=se(A),m=$(A,"FOOTER",{class:!0});var _e=N(m);v=$(_e,"BUTTON",{class:!0});var Rr=N(v);_=X(Rr,"Agragar"),Rr.forEach(I),y=se(_e),E=$(_e,"BUTTON",{class:!0});var $r=N(E);T=X($r,"Remover"),$r.forEach(I),F=se(_e),S=$(_e,"DIV",{class:!0});var Mr=N(S);D.l(Mr),Mr.forEach(I),_e.forEach(I),A.forEach(I),this.h()},h(){G(n,"class","card-header"),G(c,"class","card-body px-4"),G(v,"class","p-2 rounded variant-glass-primary"),G(E,"class","p-2 rounded variant-glass-error"),G(S,"class","h-full justify-center items-center p-2 flex"),G(m,"class","card-footer"),G(e,"class","card")},m(x,A){ke(x,e,A),O(e,n),O(n,r),O(r,a),O(e,l),P&&P.m(e,null),O(e,u),O(e,c),O(c,s),O(c,f),O(c,h),O(e,p),O(e,m),O(m,v),O(v,_),O(m,y),O(m,E),O(E,T),O(m,F),O(m,S),D.m(S,null),g||(w=[or(v,"click",t[2]),or(E,"click",t[3])],g=!0)},p(x,[A]){A&1&&o!==(o=x[0].name+"")&&ar(a,o),x[1]!==void 0?P?P.p(x,A):(P=Gr(x),P.c(),P.m(e,u)):P&&(P.d(1),P=null),A&1&&d!==(d=x[0].price+"")&&ar(f,d),U===(U=k(x))&&D?D.p(x,A):(D.d(1),D=U(x),D&&(D.c(),D.m(S,null)))},i:xt,o:xt,d(x){x&&I(e),P&&P.d(),D.d(),g=!1,co(w)}}}function Oo(t,e,n){let{product:r={id:"",name:"",price:0,img:""}}=e,o=Mt(pe),a=o.findIndex(s=>s.id===r.id),l=o[a];pe.subscribe(s=>{o=s,a=o.findIndex(d=>d.id===r.id),n(1,l=o[a]),console.log(o)});const u=()=>_o(r.id),c=()=>To(r.id);return t.$$set=s=>{"product"in s&&n(0,r=s.product)},[r,l,u,c]}class wo extends $n{constructor(e){super(),Mn(this,e,Oo,bo,Gn,{product:0})}}class ne{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,n,r,o,a,l,u,c){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(ne.TIMEOUT_ERROR_CODE);return e.code=ne.TIMEOUT_ERROR_CODE,e}}ne.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];ne.TIMEOUT_ERROR_CODE="ETIMEDOUT";class kn{constructor(e,n){this._statusCode=e,this._headers=n}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class xo extends ne{constructor(e){super(),this._fetchFn=e}getClientName(){return"fetch"}makeRequest(e,n,r,o,a,l,u,c){const s=u==="http",d=new URL(r,`${s?"http":"https"}://${e}`);d.port=n;const f=o=="POST"||o=="PUT"||o=="PATCH",h=l||(f?"":void 0),m=(this._fetchFn||fetch)(d.toString(),{method:o,headers:a,body:h});let v;const _=new Promise((y,E)=>{v=setTimeout(()=>{v=null,E(ne.makeTimeoutError())},c)});return Promise.race([m,_]).then(y=>new vr(y)).finally(()=>{v&&clearTimeout(v)})}}class vr extends kn{constructor(e){super(e.status,vr._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const n={};for(const r of e){if(!Array.isArray(r)||r.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");n[r[0]]=r[1]}return n}}class Dn{computeHMACSignature(e,n){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,n){throw new Error("computeHMACSignatureAsync not implemented.")}}class Ao extends Dn{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,n){throw new Error("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,n){const r=new TextEncoder,o=await this.subtleCrypto.importKey("raw",r.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=await this.subtleCrypto.sign("hmac",o,r.encode(e)),l=new Uint8Array(a),u=new Array(l.length);for(let c=0;c<l.length;c++)u[c]=lr[l[c]];return u.join("")}}const lr=new Array(256);for(let t=0;t<lr.length;t++)lr[t]=t.toString(16).padStart(2,"0");class Co{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}secureCompare(e,n){if(e.length!==n.length)return!1;const r=e.length;let o=0;for(let a=0;a<r;++a)o|=e.charCodeAt(a)^n.charCodeAt(a);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new xo(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new Ao(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class Io extends Event{constructor(e,n){super(e),this.data=n}}class Ro{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,n){const r=o=>{n(o.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r)}removeListener(e,n){const r=this.listenerMapping.get(n);return this.listenerMapping.delete(n),this.eventTarget.removeEventListener(e,r)}once(e,n){const r=o=>{n(o.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,n){return this.eventTarget.dispatchEvent(new Io(e,n))}}class $o extends Co{getUname(){return Promise.resolve(null)}createEmitter(){return new Ro}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const Nn=t=>{switch(t.type){case"card_error":return new Fn(t);case"invalid_request_error":return new qn(t);case"api_error":return new Pr(t);case"authentication_error":return new gr(t);case"rate_limit_error":return new _r(t);case"idempotency_error":return new Hn(t);case"invalid_grant":return new Bn(t);default:return new Wn(t)}};class W extends Error{constructor(e={}){super(e.message),this.type=this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}W.generate=Nn;class Fn extends W{}class qn extends W{}class Pr extends W{}class gr extends W{}class Un extends W{}class _r extends W{}class Ln extends W{}class ce extends W{constructor(e,n,r={}){super(r),this.header=e,this.payload=n}}class Hn extends W{}class Bn extends W{}class Wn extends W{}const kr=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:Pr,StripeAuthenticationError:gr,StripeCardError:Fn,StripeConnectionError:Ln,StripeError:W,StripeIdempotencyError:Hn,StripeInvalidGrantError:Bn,StripeInvalidRequestError:qn,StripePermissionError:Un,StripeRateLimitError:_r,StripeSignatureVerificationError:ce,StripeUnknownError:Wn,generate:Nn},Symbol.toStringTag,{value:"Module"})),Mo="2022-11-15";function Go(t,e){for(const n in e){const r=n[0].toLowerCase()+n.substring(1),o=new e[n](t);this[r]=o}}function H(t,e){return function(n){return new Go(n,e)}}function ko(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var a=Function.bind.apply(e,o);return new a}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Do=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==o||l.enumerable!==!0)return!1}return!0},Dr=typeof Symbol<"u"&&Symbol,No=Do,Fo=function(){return typeof Dr!="function"||typeof Symbol!="function"||typeof Dr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:No()},qo="Function.prototype.bind called on incompatible ",kt=Array.prototype.slice,Uo=Object.prototype.toString,Lo="[object Function]",Ho=function(e){var n=this;if(typeof n!="function"||Uo.call(n)!==Lo)throw new TypeError(qo+n);for(var r=kt.call(arguments,1),o,a=function(){if(this instanceof o){var d=n.apply(this,r.concat(kt.call(arguments)));return Object(d)===d?d:this}else return n.apply(e,r.concat(kt.call(arguments)))},l=Math.max(0,n.length-r.length),u=[],c=0;c<l;c++)u.push("$"+c);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var s=function(){};s.prototype=n.prototype,o.prototype=new s,s.prototype=null}return o},Bo=Ho,Tr=Function.prototype.bind||Bo,Wo=Tr,Vo=Wo.call(Function.call,Object.prototype.hasOwnProperty),b,$e=SyntaxError,Vn=Function,Re=TypeError,Dt=function(t){try{return Vn('"use strict"; return ('+t+").constructor;")()}catch{}},Pe=Object.getOwnPropertyDescriptor;if(Pe)try{Pe({},"")}catch{Pe=null}var Nt=function(){throw new Re},jo=Pe?function(){try{return arguments.callee,Nt}catch{try{return Pe(arguments,"callee").get}catch{return Nt}}}():Nt,Te=Fo(),te=Object.getPrototypeOf||function(t){return t.__proto__},Ie={},zo=typeof Uint8Array>"u"?b:te(Uint8Array),ge={"%AggregateError%":typeof AggregateError>"u"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?b:ArrayBuffer,"%ArrayIteratorPrototype%":Te?te([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":Ie,"%AsyncGenerator%":Ie,"%AsyncGeneratorFunction%":Ie,"%AsyncIteratorPrototype%":Ie,"%Atomics%":typeof Atomics>"u"?b:Atomics,"%BigInt%":typeof BigInt>"u"?b:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?b:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?b:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?b:Float32Array,"%Float64Array%":typeof Float64Array>"u"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?b:FinalizationRegistry,"%Function%":Vn,"%GeneratorFunction%":Ie,"%Int8Array%":typeof Int8Array>"u"?b:Int8Array,"%Int16Array%":typeof Int16Array>"u"?b:Int16Array,"%Int32Array%":typeof Int32Array>"u"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Te?te(te([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map>"u"?b:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Te?b:te(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?b:Promise,"%Proxy%":typeof Proxy>"u"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?b:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Te?b:te(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Te?te(""[Symbol.iterator]()):b,"%Symbol%":Te?Symbol:b,"%SyntaxError%":$e,"%ThrowTypeError%":jo,"%TypedArray%":zo,"%TypeError%":Re,"%Uint8Array%":typeof Uint8Array>"u"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?b:WeakMap,"%WeakRef%":typeof WeakRef>"u"?b:WeakRef,"%WeakSet%":typeof WeakSet>"u"?b:WeakSet};try{null.error}catch(t){var Ko=te(te(t));ge["%Error.prototype%"]=Ko}var Qo=function t(e){var n;if(e==="%AsyncFunction%")n=Dt("async function () {}");else if(e==="%GeneratorFunction%")n=Dt("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Dt("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(n=te(o.prototype))}return ge[e]=n,n},Nr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},at=Tr,At=Vo,Jo=at.call(Function.call,Array.prototype.concat),Xo=at.call(Function.apply,Array.prototype.splice),Fr=at.call(Function.call,String.prototype.replace),Ct=at.call(Function.call,String.prototype.slice),Yo=at.call(Function.call,RegExp.prototype.exec),Zo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ea=/\\(\\)?/g,ta=function(e){var n=Ct(e,0,1),r=Ct(e,-1);if(n==="%"&&r!=="%")throw new $e("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new $e("invalid intrinsic syntax, expected opening `%`");var o=[];return Fr(e,Zo,function(a,l,u,c){o[o.length]=u?Fr(c,ea,"$1"):l||a}),o},ra=function(e,n){var r=e,o;if(At(Nr,r)&&(o=Nr[r],r="%"+o[0]+"%"),At(ge,r)){var a=ge[r];if(a===Ie&&(a=Qo(r)),typeof a>"u"&&!n)throw new Re("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:a}}throw new $e("intrinsic "+e+" does not exist!")},Er=function(e,n){if(typeof e!="string"||e.length===0)throw new Re("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Re('"allowMissing" argument must be a boolean');if(Yo(/^%?[^%]*%?$/,e)===null)throw new $e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ta(e),o=r.length>0?r[0]:"",a=ra("%"+o+"%",n),l=a.name,u=a.value,c=!1,s=a.alias;s&&(o=s[0],Xo(r,Jo([0,1],s)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],p=Ct(h,0,1),m=Ct(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new $e("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),o+="."+h,l="%"+o+"%",At(ge,l))u=ge[l];else if(u!=null){if(!(h in u)){if(!n)throw new Re("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pe&&d+1>=r.length){var v=Pe(u,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?u=v.get:u=u[h]}else f=At(u,h),u=u[h];f&&!c&&(ge[l]=u)}}return u},ur={},na={get exports(){return ur},set exports(t){ur=t}};(function(t){var e=Tr,n=Er,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(o,r),l=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(f){var h=a(e,o,arguments);if(l&&u){var p=l(h,"length");p.configurable&&u(h,"length",{value:1+c(0,f.length-(arguments.length-1))})}return h};var s=function(){return a(e,r,arguments)};u?u(t.exports,"apply",{value:s}):t.exports.apply=s})(na);var jn=Er,zn=ur,oa=zn(jn("String.prototype.indexOf")),aa=function(e,n){var r=jn(e,!!n);return typeof r=="function"&&oa(e,".prototype.")>-1?zn(r):r};const ia={},sa=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),la=ko(sa);var Sr=typeof Map=="function"&&Map.prototype,Ft=Object.getOwnPropertyDescriptor&&Sr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,It=Sr&&Ft&&typeof Ft.get=="function"?Ft.get:null,qr=Sr&&Map.prototype.forEach,br=typeof Set=="function"&&Set.prototype,qt=Object.getOwnPropertyDescriptor&&br?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Rt=br&&qt&&typeof qt.get=="function"?qt.get:null,Ur=br&&Set.prototype.forEach,ua=typeof WeakMap=="function"&&WeakMap.prototype,tt=ua?WeakMap.prototype.has:null,ca=typeof WeakSet=="function"&&WeakSet.prototype,rt=ca?WeakSet.prototype.has:null,da=typeof WeakRef=="function"&&WeakRef.prototype,Lr=da?WeakRef.prototype.deref:null,ha=Boolean.prototype.valueOf,pa=Object.prototype.toString,fa=Function.prototype.toString,ma=String.prototype.match,Or=String.prototype.slice,he=String.prototype.replace,ya=String.prototype.toUpperCase,Hr=String.prototype.toLowerCase,Kn=RegExp.prototype.test,Br=Array.prototype.concat,re=Array.prototype.join,va=Array.prototype.slice,Wr=Math.floor,cr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ut=Object.getOwnPropertySymbols,dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Me=typeof Symbol=="function"&&typeof Symbol.iterator=="object",B=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Me||"symbol")?Symbol.toStringTag:null,Qn=Object.prototype.propertyIsEnumerable,Vr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function jr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Kn.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Wr(-t):Wr(t);if(r!==t){var o=String(r),a=Or.call(e,o.length+1);return he.call(o,n,"$&_")+"."+he.call(he.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return he.call(e,n,"$&_")}var hr=la,zr=hr.custom,Kr=Xn(zr)?zr:null,Pa=function t(e,n,r,o){var a=n||{};if(de(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(de(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=de(a,"customInspect")?a.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(de(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(de(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Zn(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return u?jr(e,c):c}if(typeof e=="bigint"){var s=String(e)+"n";return u?jr(e,s):s}var d=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return pr(e)?"[Array]":"[Object]";var f=Da(a,r);if(typeof o>"u")o=[];else if(Yn(o,e)>=0)return"[Circular]";function h(A,j,z){if(j&&(o=va.call(o),o.push(j)),z){var K={depth:a.depth};return de(a,"quoteStyle")&&(K.quoteStyle=a.quoteStyle),t(A,K,r+1,o)}return t(A,a,r+1,o)}if(typeof e=="function"&&!Qr(e)){var p=xa(e),m=it(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+re.call(m,", ")+" }":"")}if(Xn(e)){var v=Me?he.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dr.call(e);return typeof e=="object"&&!Me?Ne(v):v}if(Ma(e)){for(var _="<"+Hr.call(String(e.nodeName)),y=e.attributes||[],E=0;E<y.length;E++)_+=" "+y[E].name+"="+Jn(ga(y[E].value),"double",a);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+Hr.call(String(e.nodeName))+">",_}if(pr(e)){if(e.length===0)return"[]";var T=it(e,h);return f&&!ka(T)?"["+fr(T,f)+"]":"[ "+re.call(T,", ")+" ]"}if(Ta(e)){var F=it(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Qn.call(e,"cause")?"{ ["+String(e)+"] "+re.call(Br.call("[cause]: "+h(e.cause),F),", ")+" }":F.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+re.call(F,", ")+" }"}if(typeof e=="object"&&l){if(Kr&&typeof e[Kr]=="function"&&hr)return hr(e,{depth:d-r});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Aa(e)){var S=[];return qr&&qr.call(e,function(A,j){S.push(h(j,e,!0)+" => "+h(A,e))}),Jr("Map",It.call(e),S,f)}if(Ra(e)){var g=[];return Ur&&Ur.call(e,function(A){g.push(h(A,e))}),Jr("Set",Rt.call(e),g,f)}if(Ca(e))return Lt("WeakMap");if($a(e))return Lt("WeakSet");if(Ia(e))return Lt("WeakRef");if(Sa(e))return Ne(h(Number(e)));if(Oa(e))return Ne(h(cr.call(e)));if(ba(e))return Ne(ha.call(e));if(Ea(e))return Ne(h(String(e)));if(!_a(e)&&!Qr(e)){var w=it(e,h),P=Vr?Vr(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",U=!P&&B&&Object(e)===e&&B in e?Or.call(fe(e),8,-1):k?"Object":"",D=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",x=D+(U||k?"["+re.call(Br.call([],U||[],k||[]),": ")+"] ":"");return w.length===0?x+"{}":f?x+"{"+fr(w,f)+"}":x+"{ "+re.call(w,", ")+" }"}return String(e)};function Jn(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function ga(t){return he.call(String(t),/"/g,"&quot;")}function pr(t){return fe(t)==="[object Array]"&&(!B||!(typeof t=="object"&&B in t))}function _a(t){return fe(t)==="[object Date]"&&(!B||!(typeof t=="object"&&B in t))}function Qr(t){return fe(t)==="[object RegExp]"&&(!B||!(typeof t=="object"&&B in t))}function Ta(t){return fe(t)==="[object Error]"&&(!B||!(typeof t=="object"&&B in t))}function Ea(t){return fe(t)==="[object String]"&&(!B||!(typeof t=="object"&&B in t))}function Sa(t){return fe(t)==="[object Number]"&&(!B||!(typeof t=="object"&&B in t))}function ba(t){return fe(t)==="[object Boolean]"&&(!B||!(typeof t=="object"&&B in t))}function Xn(t){if(Me)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!dr)return!1;try{return dr.call(t),!0}catch{}return!1}function Oa(t){if(!t||typeof t!="object"||!cr)return!1;try{return cr.call(t),!0}catch{}return!1}var wa=Object.prototype.hasOwnProperty||function(t){return t in this};function de(t,e){return wa.call(t,e)}function fe(t){return pa.call(t)}function xa(t){if(t.name)return t.name;var e=ma.call(fa.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Yn(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Aa(t){if(!It||!t||typeof t!="object")return!1;try{It.call(t);try{Rt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ca(t){if(!tt||!t||typeof t!="object")return!1;try{tt.call(t,tt);try{rt.call(t,rt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Ia(t){if(!Lr||!t||typeof t!="object")return!1;try{return Lr.call(t),!0}catch{}return!1}function Ra(t){if(!Rt||!t||typeof t!="object")return!1;try{Rt.call(t);try{It.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function $a(t){if(!rt||!t||typeof t!="object")return!1;try{rt.call(t,rt);try{tt.call(t,tt)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ma(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Zn(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Zn(Or.call(t,0,e.maxStringLength),e)+r}var o=he.call(he.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ga);return Jn(o,"single",e)}function Ga(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+ya.call(e.toString(16))}function Ne(t){return"Object("+t+")"}function Lt(t){return t+" { ? }"}function Jr(t,e,n,r){var o=r?fr(n,r):re.call(n,", ");return t+" ("+e+") {"+o+"}"}function ka(t){for(var e=0;e<t.length;e++)if(Yn(t[e],`
`)>=0)return!1;return!0}function Da(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=re.call(Array(t.indent+1)," ");else return null;return{base:n,prev:re.call(Array(e+1),n)}}function fr(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+re.call(t,","+n)+`
`+e.prev}function it(t,e){var n=pr(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=de(t,o)?e(t[o],t):""}var a=typeof Ut=="function"?Ut(t):[],l;if(Me){l={};for(var u=0;u<a.length;u++)l["$"+a[u]]=a[u]}for(var c in t)de(t,c)&&(n&&String(Number(c))===c&&c<t.length||Me&&l["$"+c]instanceof Symbol||(Kn.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof Ut=="function")for(var s=0;s<a.length;s++)Qn.call(t,a[s])&&r.push("["+e(a[s])+"]: "+e(t[a[s]],t));return r}var wr=Er,De=aa,Na=Pa,Fa=wr("%TypeError%"),st=wr("%WeakMap%",!0),lt=wr("%Map%",!0),qa=De("WeakMap.prototype.get",!0),Ua=De("WeakMap.prototype.set",!0),La=De("WeakMap.prototype.has",!0),Ha=De("Map.prototype.get",!0),Ba=De("Map.prototype.set",!0),Wa=De("Map.prototype.has",!0),xr=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},Va=function(t,e){var n=xr(t,e);return n&&n.value},ja=function(t,e,n){var r=xr(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},za=function(t,e){return!!xr(t,e)},Ka=function(){var e,n,r,o={assert:function(a){if(!o.has(a))throw new Fa("Side channel does not contain "+Na(a))},get:function(a){if(st&&a&&(typeof a=="object"||typeof a=="function")){if(e)return qa(e,a)}else if(lt){if(n)return Ha(n,a)}else if(r)return Va(r,a)},has:function(a){if(st&&a&&(typeof a=="object"||typeof a=="function")){if(e)return La(e,a)}else if(lt){if(n)return Wa(n,a)}else if(r)return za(r,a);return!1},set:function(a,l){st&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new st),Ua(e,a,l)):lt?(n||(n=new lt),Ba(n,a,l)):(r||(r={key:{},next:null}),ja(r,a,l))}};return o},Qa=String.prototype.replace,Ja=/%20/g,Ht={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ar={default:Ht.RFC3986,formatters:{RFC1738:function(t){return Qa.call(t,Ja,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ht.RFC1738,RFC3986:Ht.RFC3986},Xa=Ar,Bt=Object.prototype.hasOwnProperty,ve=Array.isArray,Y=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ya=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ve(r)){for(var o=[],a=0;a<r.length;++a)typeof r[a]<"u"&&o.push(r[a]);n.obj[n.prop]=o}}},eo=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(r[o]=e[o]);return r},Za=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(ve(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Bt.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var o=e;return ve(e)&&!ve(n)&&(o=eo(e,r)),ve(e)&&ve(n)?(n.forEach(function(a,l){if(Bt.call(e,l)){var u=e[l];u&&typeof u=="object"&&a&&typeof a=="object"?e[l]=t(u,a,r):e.push(a)}else e[l]=a}),e):Object.keys(n).reduce(function(a,l){var u=n[l];return Bt.call(a,l)?a[l]=t(a[l],u,r):a[l]=u,a},o)},ei=function(e,n){return Object.keys(n).reduce(function(r,o){return r[o]=n[o],r},e)},ti=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},ri=function(e,n,r,o,a){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var u="",c=0;c<l.length;++c){var s=l.charCodeAt(c);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a===Xa.RFC1738&&(s===40||s===41)){u+=l.charAt(c);continue}if(s<128){u=u+Y[s];continue}if(s<2048){u=u+(Y[192|s>>6]+Y[128|s&63]);continue}if(s<55296||s>=57344){u=u+(Y[224|s>>12]+Y[128|s>>6&63]+Y[128|s&63]);continue}c+=1,s=65536+((s&1023)<<10|l.charCodeAt(c)&1023),u+=Y[240|s>>18]+Y[128|s>>12&63]+Y[128|s>>6&63]+Y[128|s&63]}return u},ni=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],o=0;o<n.length;++o)for(var a=n[o],l=a.obj[a.prop],u=Object.keys(l),c=0;c<u.length;++c){var s=u[c],d=l[s];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:l,prop:s}),r.push(d))}return Ya(n),e},oi=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ai=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ii=function(e,n){return[].concat(e,n)},si=function(e,n){if(ve(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(n(e[o]));return r}return n(e)},to={arrayToObject:eo,assign:ei,combine:ii,compact:ni,decode:ti,encode:ri,isBuffer:ai,isRegExp:oi,maybeMap:si,merge:Za},ro=Ka,wt=to,nt=Ar,li=Object.prototype.hasOwnProperty,Xr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},ae=Array.isArray,ui=Array.prototype.push,no=function(t,e){ui.apply(t,ae(e)?e:[e])},ci=Date.prototype.toISOString,Yr=nt.default,L={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:wt.encode,encodeValuesOnly:!1,format:Yr,formatter:nt.formatters[Yr],indices:!1,serializeDate:function(e){return ci.call(e)},skipNulls:!1,strictNullHandling:!1},di=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Wt={},hi=function t(e,n,r,o,a,l,u,c,s,d,f,h,p,m,v,_){for(var y=e,E=_,T=0,F=!1;(E=E.get(Wt))!==void 0&&!F;){var S=E.get(e);if(T+=1,typeof S<"u"){if(S===T)throw new RangeError("Cyclic object value");F=!0}typeof E.get(Wt)>"u"&&(T=0)}if(typeof c=="function"?y=c(n,y):y instanceof Date?y=f(y):r==="comma"&&ae(y)&&(y=wt.maybeMap(y,function(K){return K instanceof Date?f(K):K})),y===null){if(a)return u&&!m?u(n,L.encoder,v,"key",h):n;y=""}if(di(y)||wt.isBuffer(y)){if(u){var g=m?n:u(n,L.encoder,v,"key",h);return[p(g)+"="+p(u(y,L.encoder,v,"value",h))]}return[p(n)+"="+p(String(y))]}var w=[];if(typeof y>"u")return w;var P;if(r==="comma"&&ae(y))m&&u&&(y=wt.maybeMap(y,u)),P=[{value:y.length>0?y.join(",")||null:void 0}];else if(ae(c))P=c;else{var k=Object.keys(y);P=s?k.sort(s):k}for(var U=o&&ae(y)&&y.length===1?n+"[]":n,D=0;D<P.length;++D){var x=P[D],A=typeof x=="object"&&typeof x.value<"u"?x.value:y[x];if(!(l&&A===null)){var j=ae(y)?typeof r=="function"?r(U,x):U:U+(d?"."+x:"["+x+"]");_.set(e,T);var z=ro();z.set(Wt,_),no(w,t(A,j,r,o,a,l,r==="comma"&&m&&ae(y)?null:u,c,s,d,f,h,p,m,v,z))}}return w},pi=function(e){if(!e)return L;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||L.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=nt.default;if(typeof e.format<"u"){if(!li.call(nt.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=nt.formatters[r],a=L.filter;return(typeof e.filter=="function"||ae(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:L.addQueryPrefix,allowDots:typeof e.allowDots>"u"?L.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:L.charsetSentinel,delimiter:typeof e.delimiter>"u"?L.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:L.encode,encoder:typeof e.encoder=="function"?e.encoder:L.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:L.encodeValuesOnly,filter:a,format:r,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:L.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:L.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:L.strictNullHandling}},fi=function(t,e){var n=t,r=pi(e),o,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):ae(r.filter)&&(a=r.filter,o=a);var l=[];if(typeof n!="object"||n===null)return"";var u;e&&e.arrayFormat in Xr?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var c=Xr[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=c==="comma"&&e&&e.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var d=ro(),f=0;f<o.length;++f){var h=o[f];r.skipNulls&&n[h]===null||no(l,hi(n[h],h,c,s,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var p=l.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""},Ge=to,mr=Object.prototype.hasOwnProperty,mi=Array.isArray,q={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ge.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yi=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},oo=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},vi="utf8=%26%2310003%3B",Pi="utf8=%E2%9C%93",gi=function(e,n){var r={},o=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=n.parameterLimit===1/0?void 0:n.parameterLimit,l=o.split(n.delimiter,a),u=-1,c,s=n.charset;if(n.charsetSentinel)for(c=0;c<l.length;++c)l[c].indexOf("utf8=")===0&&(l[c]===Pi?s="utf-8":l[c]===vi&&(s="iso-8859-1"),u=c,c=l.length);for(c=0;c<l.length;++c)if(c!==u){var d=l[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,m;h===-1?(p=n.decoder(d,q.decoder,s,"key"),m=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),q.decoder,s,"key"),m=Ge.maybeMap(oo(d.slice(h+1),n),function(v){return n.decoder(v,q.decoder,s,"value")})),m&&n.interpretNumericEntities&&s==="iso-8859-1"&&(m=yi(m)),d.indexOf("[]=")>-1&&(m=mi(m)?[m]:m),mr.call(r,p)?r[p]=Ge.combine(r[p],m):r[p]=m}return r},_i=function(t,e,n,r){for(var o=r?e:oo(e,n),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&n.parseArrays)l=[].concat(o);else{l=n.plainObjects?Object.create(null):{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,s=parseInt(c,10);!n.parseArrays&&c===""?l={0:o}:!isNaN(s)&&u!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(l=[],l[s]=o):c!=="__proto__"&&(l[c]=o)}o=l}return o},Ti=function(e,n,r,o){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,c=r.depth>0&&l.exec(a),s=c?a.slice(0,c.index):a,d=[];if(s){if(!r.plainObjects&&mr.call(Object.prototype,s)&&!r.allowPrototypes)return;d.push(s)}for(var f=0;r.depth>0&&(c=u.exec(a))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&mr.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+a.slice(c.index)+"]"),_i(d,n,r,o)}},Ei=function(e){if(!e)return q;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?q.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?q.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:q.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:q.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:q.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:q.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:q.comma,decoder:typeof e.decoder=="function"?e.decoder:q.decoder,delimiter:typeof e.delimiter=="string"||Ge.isRegExp(e.delimiter)?e.delimiter:q.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:q.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:q.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:q.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:q.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:q.strictNullHandling}},Si=function(t,e){var n=Ei(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?gi(t,n):t,o=n.plainObjects?Object.create(null):{},a=Object.keys(r),l=0;l<a.length;++l){var u=a[l],c=Ti(u,r[u],n,typeof t=="string");o=Ge.merge(o,c,n)}return n.allowSparse===!0?o:Ge.compact(o)},bi=fi,Oi=Si,wi=Ar,xi={formats:wi,parse:Oi,stringify:bi};const Cr=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"];function ao(t){return t&&typeof t=="object"&&Cr.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function Gt(t){return xi.stringify(t,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString()}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const yr=(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const n=e.replace(/["\n\r\u2028\u2029]/g,r=>t[r]);return r=>n.replace(/\{([\s\S]+?)\}/g,(o,a)=>encodeURIComponent(r[a]||""))}})();function Ai(t){const e=t.match(/\{\w+\}/g);return e?e.map(n=>n.replace(/[{}]/g,"")):[]}function io(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!ao(t[0]))return t.shift();const e=Object.keys(t[0]),n=e.filter(r=>Cr.includes(r));return n.length>0&&n.length!==e.length&&$t(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function Ci(t){const e={auth:null,host:null,headers:{},settings:{}};if(t.length>0){const n=t[t.length-1];if(typeof n=="string")e.auth=t.pop();else if(ao(n)){const r=Object.assign({},t.pop()),o=Object.keys(r).filter(a=>!Cr.includes(a));o.length&&$t(`Invalid options found (${o.join(", ")}); ignoring.`),r.apiKey&&(e.auth=r.apiKey),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host)}}return e}function Ii(t){const e=this,n=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...r){e.apply(this,r)};return Object.assign(n,e),n.prototype=Object.create(e.prototype),Object.assign(n.prototype,t),n}function Vt(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,n)=>(t[n]!=null&&(e[n]=t[n]),e),{})}function Ri(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,n)=>(e[$i(n)]=t[n],e),{}):t}function $i(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Ir(t,e){return e?t.then(n=>{setTimeout(()=>{e(null,n)},0)},n=>{setTimeout(()=>{e(n,null)},0)}):t}function Mi(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function $t(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function Gi(t){const e=typeof t;return(e==="function"||e==="object")&&!!t}function ki(t){const e={},n=(r,o)=>{Object.keys(r).forEach(a=>{const l=r[a],u=o?`${o}[${a}]`:a;if(Gi(l)){if(!(l instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(l,"data"))return n(l,u);e[u]=l}else e[u]=String(l)})};return n(t,null),e}function jt(t,e,n){if(!Number.isInteger(e)){if(n!==void 0)return n;throw new Error(`${t} must be an integer`)}return e}function Di(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}class so{constructor(e,n,r,o){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=n,this.spec=r,this.stripeResource=o}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const n=lo(this.requestArgs);if(this.index<e.data.length){const r=n?e.data.length-1-this.index:this.index,o=e.data[r];return this.index+=1,{value:o,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const n=await this._next();return this.promiseCache.currentPromise=null,n})();return this.promiseCache.currentPromise=e,e}}class Ni extends so{getNextPage(e){const n=lo(this.requestArgs),r=Bi(e,n);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[n?"ending_before":"starting_after"]:r})}}class Fi extends so{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}const qi=(t,e,n,r)=>n.methodType==="search"?Zr(new Fi(r,e,n,t)):n.methodType==="list"?Zr(new Ni(r,e,n,t)):null,Zr=t=>{const e=Wi((...o)=>t.next(...o)),n=Vi(e),r={autoPagingEach:e,autoPagingToArray:n,next:()=>t.next(),return:()=>({}),[Ui()]:()=>r};return r};function Ui(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Li(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Hi(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(r,o){const a=e(r);o(a)}}function Bi(t,e){const n=e?0:t.data.length-1,r=t.data[n],o=r&&r.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}function Wi(t){return function(){const n=[].slice.call(arguments),r=Hi(n),o=Li(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);const a=ji(t,r);return Ir(a,o)}}function Vi(t){return function(n,r){const o=n&&n.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const a=new Promise((l,u)=>{const c=[];t(s=>{if(c.push(s),c.length>=o)return!1}).then(()=>{l(c)}).catch(u)});return Ir(a,r)}}function ji(t,e){return new Promise((n,r)=>{function o(a){if(a.done){n();return}const l=a.value;return new Promise(u=>{e(l,u)}).then(u=>u===!1?o({done:!0,value:void 0}):t().then(o))}t().then(o).catch(r)})}function lo(t){const e=[].slice.call(t);return!!io(e).ending_before}function zi(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const n=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=Ai(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const r=Ir(this._makeRequest(e,t,{}),n);return Object.assign(r,qi(this,e,t,r)),r}}i.extend=Ii;i.method=zi;i.MAX_BUFFERED_REQUEST_METRICS=100;function i(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=yr(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=yr(this.path),this.initialize(...arguments)}i.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const n=[this.basePath(e),this.path(e)];if(typeof t=="function"){const r=t(e);r&&n.push(r)}else n.push(t);return this._joinUrlParts(n)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,n){const r=(e.method||"GET").toUpperCase(),o=e.urlParams||[],a=e.encode||(S=>S),l=!!e.fullPath,u=yr(l?e.fullPath:e.path||""),c=l?e.fullPath:this.createResourcePathWithSymbols(e.path),s=[].slice.call(t),d=o.reduce((S,g)=>{const w=s.shift();if(typeof w!="string")throw new Error(`Stripe: Argument "${g}" must be a string, but got: ${w} (on API request to \`${r} ${c}\`)`);return S[g]=w,S},{}),f=io(s),h=a(Object.assign({},f,n)),p=Ci(s),m=p.host||e.host,v=!!e.streaming;if(s.filter(S=>S!=null).length)throw new Error(`Stripe: Unknown arguments (${s}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${r} \`${c}\`)`);const _=l?u(d):this.createFullPath(u,d),y=Object.assign(p.headers,e.headers);e.validator&&e.validator(h,{headers:y});const E=e.method==="GET"||e.method==="DELETE";return{requestMethod:r,requestPath:_,bodyData:E?{}:h,queryData:E?h:{},auth:p.auth,headers:y,host:m??null,streaming:v,settings:p.settings}},_makeRequest(t,e,n){return new Promise((r,o)=>{var a;let l;try{l=this._getRequestOpts(t,e,n)}catch(h){o(h);return}function u(h,p){h?o(h):r(e.transformResponseData?e.transformResponseData(p):p)}const c=Object.keys(l.queryData).length===0,s=[l.requestPath,c?"":"?",Gt(l.queryData)].join(""),{headers:d,settings:f}=l;this._stripe._requestSender._request(l.requestMethod,l.host,s,l.bodyData,l.auth,{headers:d,settings:f,streaming:l.streaming},u,(a=this.requestDataProcessor)===null||a===void 0?void 0:a.bind(this))})}};const Fe=i.method,Ki=i.extend({retrieve:Fe({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Fe({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Fe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Fe({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Fe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"})}),qe=i.method,Qi=i.extend({retrieve:qe({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:qe({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:qe({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:qe({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:qe({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),en=i.method,Ji=i.extend({create:en({method:"POST",fullPath:"/v1/tax/calculations"}),listLineItems:en({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),ut=i.method,Xi=i.extend({create:ut({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:ut({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:ut({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:ut({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),ct=i.method,Yi=i.extend({deliverCard:ct({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:ct({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:ct({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:ct({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})}),dt=i.method,Zi=i.extend({create:dt({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:dt({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:dt({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:dt({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),ht=i.method,es=i.extend({create:ht({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:ht({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:ht({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:ht({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),Ue=i.method,ts=i.extend({create:Ue({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Ue({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Ue({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Ue({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Ue({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),rs=i.method,ns=i.extend({create:rs({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),zt=i.method,os=i.extend({create:zt({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:zt({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:zt({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),as=i.method,is=i.extend({fundCashBalance:as({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),Kt=i.method,ss=i.extend({create:Kt({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Kt({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Kt({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),Le=i.method,ls=i.extend({create:Le({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Le({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Le({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Le({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Le({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),tn=i.method,us=i.extend({retrieve:tn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:tn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),Ee=i.method,cs=i.extend({create:Ee({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ee({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ee({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ee({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:Ee({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ee({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),Qt=i.method,ds=i.extend({fail:Qt({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:Qt({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:Qt({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),pt=i.method,hs=i.extend({create:pt({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:pt({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:pt({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:pt({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),He=i.method,ps=i.extend({create:He({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:He({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:He({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:He({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:He({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),Jt=i.method,fs=i.extend({fail:Jt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Jt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Jt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),ft=i.method,ms=i.extend({create:ft({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:ft({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:ft({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:ft({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),Xt=i.method,ys=i.extend({fail:Xt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Xt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Xt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),mt=i.method,vs=i.extend({create:mt({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:mt({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:mt({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:mt({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),Ps=i.method,gs=i.extend({presentPaymentMethod:Ps({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),Z=i.method,_s=i.extend({create:Z({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Z({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Z({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Z({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Z({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),Ts=i.method,Es=i.extend({create:Ts({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),rn=i.method,Ss=i.extend({retrieve:rn({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:rn({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),bs=i.method,Os=i.extend({create:bs({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),nn=i.method,ws=i.extend({retrieve:nn({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:nn({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),xs=i.method,As=i.extend({expire:xs({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Yt=i.method,Cs=i.extend({create:Yt({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Yt({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Yt({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),on=i.method,Is=i.extend({retrieve:on({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:on({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),an=i.method,Rs=i.extend({retrieve:an({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:an({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),yt=i.method,$s=i.extend({create:yt({method:"POST",fullPath:"/v1/apps/secrets"}),list:yt({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:yt({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:yt({method:"GET",fullPath:"/v1/apps/secrets/find"})}),Ms=i.method,Gs=i.extend({create:Ms({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Be=i.method,ks=i.extend({create:Be({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Be({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),list:Be({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Be({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Be({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),sn=i.method,Ds=i.extend({create:sn({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:sn({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),We=i.method,Ns=i.extend({create:We({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:We({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:We({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:We({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:We({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),ln=i.method,Fs=i.extend({retrieve:ln({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:ln({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),Zt=i.method,qs=i.extend({retrieve:Zt({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Zt({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Zt({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),vt=i.method,Us=i.extend({retrieve:vt({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:vt({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:vt({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:vt({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),un=i.method,Ls=i.extend({retrieve:un({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:un({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),Pt=i.method,Hs=i.extend({create:Pt({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Pt({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Pt({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Pt({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),Ve=i.method,Bs=i.extend({create:Ve({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:Ve({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:Ve({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:Ve({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:Ve({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),cn=i.method,Ws=i.extend({retrieve:cn({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:cn({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),Se=i.method,Vs=i.extend({create:Se({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Se({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Se({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Se({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Se({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Se({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),M=i.method,dn=i.extend({create:M({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?M({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),M({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:M({method:"POST",fullPath:"/v1/accounts/{account}"}),list:M({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:M({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:M({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:M({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:M({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:M({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:M({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:M({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:M({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:M({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:M({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCapability:M({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:M({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:M({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:M({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:M({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:M({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),hn=i.method,er="connect.stripe.com",js=i.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let n="oauth/authorize";return e.express&&(n=`express/${n}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${er}/${n}?${Gt(t)}`},token:hn({method:"POST",path:"oauth/token",host:er}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),hn({method:"POST",path:"oauth/deauthorize",host:er}).apply(this,[t,...e])}}),zs=i.method,Ks=i.extend({create:zs({method:"POST",fullPath:"/v1/account_links"})}),gt=i.method,Qs=i.extend({create:gt({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:gt({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:gt({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:gt({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),be=i.method,Js=i.extend({retrieve:be({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:be({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:be({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:be({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:be({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:be({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),Xs=i.method,Ys=i.extend({retrieve:Xs({method:"GET",fullPath:"/v1/balance"})}),pn=i.method,Zs=i.extend({retrieve:pn({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:pn({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),Oe=i.method,el=i.extend({create:Oe({method:"POST",fullPath:"/v1/charges"}),retrieve:Oe({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Oe({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Oe({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Oe({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Oe({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),fn=i.method,tl=i.extend({retrieve:fn({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:fn({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),je=i.method,rl=i.extend({create:je({method:"POST",fullPath:"/v1/coupons"}),retrieve:je({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:je({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:je({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:je({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),le=i.method,nl=i.extend({create:le({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:le({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:le({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:le({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:le({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:le({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:le({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:le({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),C=i.method,ol=i.extend({create:C({method:"POST",fullPath:"/v1/customers"}),retrieve:C({method:"GET",fullPath:"/v1/customers/{customer}"}),update:C({method:"POST",fullPath:"/v1/customers/{customer}"}),list:C({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:C({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createFundingInstructions:C({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createBalanceTransaction:C({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createSource:C({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:C({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:C({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:C({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:C({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listPaymentMethods:C({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listBalanceTransactions:C({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:C({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listSources:C({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:C({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrievePaymentMethod:C({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveBalanceTransaction:C({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:C({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:C({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrieveSource:C({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:C({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:C({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:C({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:C({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:C({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:C({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),_t=i.method,al=i.extend({retrieve:_t({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:_t({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:_t({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:_t({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),mn=i.method,il=i.extend({create:mn({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:mn({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),yn=i.method,sl=i.extend({retrieve:yn({method:"GET",fullPath:"/v1/events/{id}"}),list:yn({method:"GET",fullPath:"/v1/events",methodType:"list"})}),vn=i.method,ll=i.extend({retrieve:vn({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:vn({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),ul=(t,e,n)=>{const r=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();n["Content-Type"]=`multipart/form-data; boundary=${r}`;const o=new TextEncoder;let a=new Uint8Array(0);const l=o.encode(`\r
`);function u(d){const f=a,h=d instanceof Uint8Array?d:new Uint8Array(o.encode(d));a=new Uint8Array(f.length+h.length+2),a.set(f),a.set(h,f.length),a.set(l,a.length-2)}function c(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const s=ki(e);for(const d in s){const f=s[d];if(u(`--${r}`),Object.prototype.hasOwnProperty.call(f,"data")){const h=f;u(`Content-Disposition: form-data; name=${c(d)}; filename=${c(h.name||"blob")}`),u(`Content-Type: ${h.type||"application/octet-stream"}`),u(""),u(h.data)}else u(`Content-Disposition: form-data; name=${c(d)}`),u(""),u(f)}return u(`--${r}--`),a};function cl(t,e,n,r){if(e=e||{},t!=="POST")return r(null,Gt(e));this._stripe._platformFunctions.tryBufferData(e).then(o=>{const a=ul(t,o,n);return r(null,a)}).catch(o=>r(o,null))}const tr=i.method,dl=i.extend({create:tr({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:tr({method:"GET",fullPath:"/v1/files/{file}"}),list:tr({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:cl}),Tt=i.method,hl=i.extend({create:Tt({method:"POST",fullPath:"/v1/file_links"}),retrieve:Tt({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Tt({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Tt({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),V=i.method,pl=i.extend({create:V({method:"POST",fullPath:"/v1/invoices"}),retrieve:V({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:V({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:V({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:V({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),finalizeInvoice:V({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:V({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:V({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:V({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:V({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),retrieveUpcoming:V({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:V({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:V({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),voidInvoice:V({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),ze=i.method,fl=i.extend({create:ze({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:ze({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:ze({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:ze({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:ze({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),ml=i.method,yl=i.extend({retrieve:ml({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),Q=i.method,vl=i.extend({create:Q({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:Q({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:Q({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:Q({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),Ke=i.method,Pl=i.extend({create:Ke({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Ke({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Ke({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Ke({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Ke({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),we=i.method,gl=i.extend({create:we({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:we({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:we({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:we({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:we({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:we({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),xe=i.method,_l=i.extend({create:xe({method:"POST",fullPath:"/v1/payouts"}),retrieve:xe({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:xe({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:xe({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:xe({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:xe({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),Qe=i.method,Tl=i.extend({create:Qe({method:"POST",fullPath:"/v1/plans"}),retrieve:Qe({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Qe({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Qe({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Qe({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),Je=i.method,El=i.extend({create:Je({method:"POST",fullPath:"/v1/prices"}),retrieve:Je({method:"GET",fullPath:"/v1/prices/{price}"}),update:Je({method:"POST",fullPath:"/v1/prices/{price}"}),list:Je({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Je({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),Ae=i.method,Sl=i.extend({create:Ae({method:"POST",fullPath:"/v1/products"}),retrieve:Ae({method:"GET",fullPath:"/v1/products/{id}"}),update:Ae({method:"POST",fullPath:"/v1/products/{id}"}),list:Ae({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:Ae({method:"DELETE",fullPath:"/v1/products/{id}"}),search:Ae({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),Et=i.method,bl=i.extend({create:Et({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Et({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Et({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Et({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),ee=i.method,Ol=i.extend({create:ee({method:"POST",fullPath:"/v1/quotes"}),retrieve:ee({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ee({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ee({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ee({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ee({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ee({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ee({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ee({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ee({host:"files.stripe.com",method:"GET",fullPath:"/v1/quotes/{quote}/pdf",streaming:!0})}),Xe=i.method,wl=i.extend({create:Xe({method:"POST",fullPath:"/v1/refunds"}),retrieve:Xe({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Xe({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Xe({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Xe({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),rr=i.method,xl=i.extend({retrieve:rr({method:"GET",fullPath:"/v1/reviews/{review}"}),list:rr({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:rr({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),Al=i.method,Cl=i.extend({list:Al({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),me=i.method,Il=i.extend({create:me({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:me({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:me({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:me({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:me({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:me({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:me({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),St=i.method,Rl=i.extend({create:St({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:St({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:St({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:St({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),Ye=i.method,$l=i.extend({create:Ye({method:"POST",fullPath:"/v1/sources"}),retrieve:Ye({method:"GET",fullPath:"/v1/sources/{source}"}),update:Ye({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Ye({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Ye({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),oe=i.method,Ml=i.extend({create:oe({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:oe({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:oe({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:oe({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),del:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:oe({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:oe({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),ye=i.method,Gl=i.extend({create:ye({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ye({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ye({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ye({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ye({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:ye({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:ye({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),Ce=i.method,kl=i.extend({create:Ce({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Ce({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Ce({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Ce({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Ce({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Ce({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),Pn=i.method,Dl=i.extend({retrieve:Pn({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:Pn({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),bt=i.method,Nl=i.extend({create:bt({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:bt({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:bt({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:bt({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),gn=i.method,Fl=i.extend({create:gn({method:"POST",fullPath:"/v1/tokens"}),retrieve:gn({method:"GET",fullPath:"/v1/tokens/{token}"})}),Ze=i.method,ql=i.extend({create:Ze({method:"POST",fullPath:"/v1/topups"}),retrieve:Ze({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Ze({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Ze({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Ze({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),ue=i.method,Ul=i.extend({create:ue({method:"POST",fullPath:"/v1/transfers"}),retrieve:ue({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ue({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ue({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ue({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ue({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ue({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ue({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),et=i.method,Ll=i.extend({create:et({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:et({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:et({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:et({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:et({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Hl=H("apps",{Secrets:$s}),Bl=H("billingPortal",{Configurations:es,Sessions:Gs}),Wl=H("checkout",{Sessions:ks}),Vl=H("financialConnections",{Accounts:Ki,Sessions:Ds}),jl=H("identity",{VerificationReports:Ws,VerificationSessions:Vs}),zl=H("issuing",{Authorizations:Qi,Cardholders:Xi,Cards:Zi,Disputes:ls,Transactions:qs}),Kl=H("radar",{EarlyFraudWarnings:us,ValueListItems:Hs,ValueLists:Bs}),Ql=H("reporting",{ReportRuns:Cs,ReportTypes:Is}),Jl=H("sigma",{ScheduledQueryRuns:Rs}),Xl=H("tax",{Calculations:Ji,Transactions:Us}),Yl=H("terminal",{Configurations:ts,ConnectionTokens:ns,Locations:ps,Readers:_s}),Zl=H("testHelpers",{Customers:is,Refunds:As,TestClocks:Ns,Issuing:H("issuing",{Cards:Yi}),Terminal:H("terminal",{Readers:gs}),Treasury:H("treasury",{InboundTransfers:ds,OutboundPayments:fs,OutboundTransfers:ys,ReceivedCredits:Es,ReceivedDebits:Os})}),eu=H("treasury",{CreditReversals:os,DebitReversals:ss,FinancialAccounts:cs,InboundTransfers:hs,OutboundPayments:ms,OutboundTransfers:vs,ReceivedCredits:Ss,ReceivedDebits:ws,TransactionEntries:Fs,Transactions:Ls}),nr=Object.freeze(Object.defineProperty({__proto__:null,Account:dn,AccountLinks:Ks,Accounts:dn,ApplePayDomains:Qs,ApplicationFees:Js,Apps:Hl,Balance:Ys,BalanceTransactions:Zs,BillingPortal:Bl,Charges:el,Checkout:Wl,CountrySpecs:tl,Coupons:rl,CreditNotes:nl,Customers:ol,Disputes:al,EphemeralKeys:il,Events:sl,ExchangeRates:ll,FileLinks:hl,Files:dl,FinancialConnections:Vl,Identity:jl,InvoiceItems:fl,Invoices:pl,Issuing:zl,Mandates:yl,OAuth:js,PaymentIntents:vl,PaymentLinks:Pl,PaymentMethods:gl,Payouts:_l,Plans:Tl,Prices:El,Products:Sl,PromotionCodes:bl,Quotes:Ol,Radar:Kl,Refunds:wl,Reporting:Ql,Reviews:xl,SetupAttempts:Cl,SetupIntents:Il,ShippingRates:Rl,Sigma:Jl,Sources:$l,SubscriptionItems:Gl,SubscriptionSchedules:kl,Subscriptions:Ml,Tax:Xl,TaxCodes:Dl,TaxRates:Nl,Terminal:Yl,TestHelpers:Zl,Tokens:Fl,Topups:ql,Transfers:Ul,Treasury:eu,WebhookEndpoints:Ll},Symbol.toStringTag,{value:"Module"})),tu=60;class ot{constructor(e,n){this._stripe=e,this._maxBufferedRequestMetric=n}_addHeadersDirectlyToObject(e,n){e.requestId=n["request-id"],e.stripeAccount=e.stripeAccount||n["stripe-account"],e.apiVersion=e.apiVersion||n["stripe-version"],e.idempotencyKey=e.idempotencyKey||n["idempotency-key"]}_makeResponseEvent(e,n,r){const o=Date.now(),a=o-e.request_start_time;return Vt({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:n,request_id:this._getRequestId(r),elapsed:a,request_start_time:e.request_start_time,request_end_time:o})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,n){return r=>{const o=r.getHeaders(),a=()=>{const u=this._makeResponseEvent(e,r.getStatusCode(),o);this._stripe._emitter.emit("response",u),this._recordRequestMetrics(this._getRequestId(o),u.elapsed)},l=r.toStream(a);return this._addHeadersDirectlyToObject(l,o),n(null,l)}}_jsonResponseHandler(e,n){return r=>{const o=r.getHeaders(),a=this._getRequestId(o),l=r.getStatusCode(),u=this._makeResponseEvent(e,l,o);this._stripe._emitter.emit("response",u),r.toJSON().then(c=>{if(c.error){let s;throw typeof c.error=="string"&&(c.error={type:c.error,message:c.error_description}),c.error.headers=o,c.error.statusCode=l,c.error.requestId=a,l===401?s=new gr(c.error):l===403?s=new Un(c.error):l===429?s=new _r(c.error):s=W.generate(c.error),s}return c},c=>{throw new Pr({message:"Invalid JSON received from the Stripe API",exception:c,requestId:o["request-id"]})}).then(c=>{this._recordRequestMetrics(a,u.elapsed);const s=r.getRawResponse();this._addHeadersDirectlyToObject(s,o),Object.defineProperty(c,"lastResponse",{enumerable:!1,writable:!1,value:s}),n(null,c)},c=>n(c,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,n,r,o){return o&&n===0&&ne.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:n>=r?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,n=null){const r=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay();let a=Math.min(r*Math.pow(e-1,2),o);return a*=.5*(1+Math.random()),a=Math.max(r,a),Number.isInteger(n)&&n<=tu&&(a=Math.max(a,n)),a*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,n){const r=this._getMaxNetworkRetries(n);return e==="POST"&&r>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(e,n,r,o,a,l,u){const c={Authorization:e?`Bearer ${e}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(a,u)},s=a=="POST"||a=="PUT"||a=="PATCH";return(s||n)&&(s||$t(`${a} method had non-zero contentLength but no payload is expected for this verb`),c["Content-Length"]=n),Object.assign(Vt(c),Ri(l))}_getUserAgentString(){const e=this._stripe.getConstant("PACKAGE_VERSION"),n=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${e} ${n}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,n){this._stripe.getTelemetryEnabled()&&e&&(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric?$t("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:e,request_duration_ms:n}))}_request(e,n,r,o,a,l={},u,c=null){let s;const d=(p,m,v,_,y)=>setTimeout(p,this._getSleepTimeInMS(_,y),m,v,_+1),f=(p,m,v)=>{const _=l.settings&&l.settings.timeout&&Number.isInteger(l.settings.timeout)&&l.settings.timeout>=0?l.settings.timeout:this._stripe.getApiField("timeout"),y=this._stripe.getApiField("httpClient").makeRequest(n||this._stripe.getApiField("host"),this._stripe.getApiField("port"),r,e,m,s,this._stripe.getApiField("protocol"),_),E=Date.now(),T=Vt({api_version:p,account:m["Stripe-Account"],idempotency_key:m["Idempotency-Key"],method:e,path:r,request_start_time:E}),F=v||0,S=this._getMaxNetworkRetries(l.settings||{});this._stripe._emitter.emit("request",T),y.then(g=>ot._shouldRetry(g,F,S)?d(f,p,m,F,g.getHeaders()["retry-after"]):l.streaming&&g.getStatusCode()<400?this._streamingResponseHandler(T,u)(g):this._jsonResponseHandler(T,u)(g)).catch(g=>{if(ot._shouldRetry(null,F,S,g))return d(f,p,m,F,null);{const w=g.code&&g.code===ne.TIMEOUT_ERROR_CODE;return u(new Ln({message:w?`Request aborted due to timeout being reached (${_}ms)`:ot._generateConnectionErrorMessage(F),detail:g}))}})},h=(p,m)=>{if(p)return u(p);s=m,this._stripe.getClientUserAgent(v=>{var _,y;const E=this._stripe.getApiField("version"),T=this._makeHeaders(a,s.length,E,v,e,(_=l.headers)!==null&&_!==void 0?_:null,(y=l.settings)!==null&&y!==void 0?y:{});f(E,T,0)})};c?c(e,o,l.headers,h):h(null,Gt(o||{}))}}function _n(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(s,d,f,h,p){return this.signature.verifyHeader(s,d,f,h||e.DEFAULT_TOLERANCE,p),s instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(s)):JSON.parse(s)},async constructEventAsync(s,d,f,h,p){return await this.signature.verifyHeaderAsync(s,d,f,h||e.DEFAULT_TOLERANCE,p),s instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(s)):JSON.parse(s)},generateTestHeaderString:function(s){if(!s)throw new W({message:"Options are required"});return s.timestamp=Math.floor(s.timestamp)||Math.floor(Date.now()/1e3),s.scheme=s.scheme||n.EXPECTED_SCHEME,s.cryptoProvider=s.cryptoProvider||c(),s.signature=s.signature||s.cryptoProvider.computeHMACSignature(s.timestamp+"."+s.payload,s.secret),["t="+s.timestamp,s.scheme+"="+s.signature].join(",")}},n={EXPECTED_SCHEME:"v1",verifyHeader(s,d,f,h,p){const{decodedHeader:m,decodedPayload:v,details:_,suspectPayloadType:y}=o(s,d,this.EXPECTED_SCHEME);p=p||c();const E=p.computeHMACSignature(r(v,_),f);return a(v,m,_,E,h,y),!0},async verifyHeaderAsync(s,d,f,h,p){const{decodedHeader:m,decodedPayload:v,details:_,suspectPayloadType:y}=o(s,d,this.EXPECTED_SCHEME);p=p||c();const E=await p.computeHMACSignatureAsync(r(v,_),f);return a(v,m,_,E,h,y)}};function r(s,d){return`${d.timestamp}.${s}`}function o(s,d,f){if(!s)throw new ce(d,s,{message:"No webhook payload was provided."});const h=typeof s!="string"&&!(s instanceof Uint8Array),p=new TextDecoder("utf8"),m=s instanceof Uint8Array?p.decode(s):s;if(Array.isArray(d))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(d==null||d=="")throw new ce(d,s,{message:"No stripe-signature header value was provided."});const v=d instanceof Uint8Array?p.decode(d):d,_=l(v,f);if(!_||_.timestamp===-1)throw new ce(v,m,{message:"Unable to extract timestamp and signatures from header"});if(!_.signatures.length)throw new ce(v,m,{message:"No signatures found with expected scheme"});return{decodedPayload:m,decodedHeader:v,details:_,suspectPayloadType:h}}function a(s,d,f,h,p,m){if(!!!f.signatures.filter(t.secureCompare.bind(t,h)).length)throw m?new ce(d,s,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing`}):new ce(d,s,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing`});const _=Math.floor(Date.now()/1e3)-f.timestamp;if(p>0&&_>p)throw new ce(d,s,{message:"Timestamp outside the tolerance zone"});return!0}function l(s,d){return typeof s!="string"?null:s.split(",").reduce((f,h)=>{const p=h.split("=");return p[0]==="t"&&(f.timestamp=parseInt(p[1],10)),p[0]===d&&f.signatures.push(p[1]),f},{timestamp:-1,signatures:[]})}let u=null;function c(){return u||(u=t.createDefaultCryptoProvider()),u}return e.signature=n,e}const Tn="api.stripe.com",En="443",Sn="/v1/",bn=Mo,On=8e4,wn=2,xn=.5,ru=["name","version","url","partner_id"],An=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],nu=t=>new ot(t,i.MAX_BUFFERED_REQUEST_METRICS);function ou(t,e=nu){n.PACKAGE_VERSION="12.2.0",n.USER_AGENT=Object.assign({bindings_version:n.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},Di()),n.StripeResource=i,n.resources=nr,n.HttpClient=ne,n.HttpClientResponse=kn,n.CryptoProvider=Dn;function n(r,o={}){if(!(this instanceof n))return new n(r,o);const a=this._getPropsFromConfig(o);if(this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=n.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),a.protocol&&a.protocol!=="https"&&(!a.host||/\.stripe\.com$/.test(a.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");const l=a.httpAgent||null;this._api={auth:null,host:a.host||Tn,port:a.port||En,protocol:a.protocol||"https",basePath:Sn,version:a.apiVersion||bn,timeout:jt("timeout",a.timeout,On),maxNetworkRetries:jt("maxNetworkRetries",a.maxNetworkRetries,0),agent:l,httpClient:a.httpClient||(l?this._platformFunctions.createNodeHttpClient(l):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:a.stripeAccount||null};const u=a.typescript||!1;u!==n.USER_AGENT.typescript&&(n.USER_AGENT.typescript=u),a.appInfo&&this._setAppInfo(a.appInfo),this._prepResources(),this._setApiKey(r),this.errors=kr,this.webhooks=_n(t),this._prevRequestMetrics=[],this._enableTelemetry=a.telemetry!==!1,this._requestSender=e(this),this.StripeResource=n.StripeResource}return n.errors=kr,n.webhooks=_n,n.createNodeHttpClient=t.createNodeHttpClient,n.createFetchHttpClient=t.createFetchHttpClient,n.createNodeCryptoProvider=t.createNodeCryptoProvider,n.createSubtleCryptoProvider=t.createSubtleCryptoProvider,n.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(r){r&&this._setApiField("auth",`Bearer ${r}`)},_setAppInfo(r){if(r&&typeof r!="object")throw new Error("AppInfo must be an object.");if(r&&!r.name)throw new Error("AppInfo.name is required");r=r||{},this._appInfo=ru.reduce((o,a)=>(typeof r[a]=="string"&&(o=o||{},o[a]=r[a]),o),void 0)},_setApiField(r,o){this._api[r]=o},getApiField(r){return this._api[r]},setClientId(r){this._clientId=r},getClientId(){return this._clientId},getConstant:r=>{switch(r){case"DEFAULT_HOST":return Tn;case"DEFAULT_PORT":return En;case"DEFAULT_BASE_PATH":return Sn;case"DEFAULT_API_VERSION":return bn;case"DEFAULT_TIMEOUT":return On;case"MAX_NETWORK_RETRY_DELAY_SEC":return wn;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return xn}return n[r]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(r,o,a){const l=jt(r,o,a);this._setApiField(r,l)},getMaxNetworkRetryDelay(){return wn},getInitialNetworkRetryDelay(){return xn},getClientUserAgent(r){return this.getClientUserAgentSeeded(n.USER_AGENT,r)},getClientUserAgentSeeded(r,o){this._platformFunctions.getUname().then(a=>{var l;const u={};for(const s in r)u[s]=encodeURIComponent((l=r[s])!==null&&l!==void 0?l:"null");u.uname=encodeURIComponent(a||"UNKNOWN");const c=this.getApiField("httpClient");c&&(u.httplib=encodeURIComponent(c.getClientName())),this._appInfo&&(u.application=this._appInfo),o(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let r=this._appInfo.name;return this._appInfo.version&&(r+=`/${this._appInfo.version}`),this._appInfo.url&&(r+=` (${this._appInfo.url})`),r},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const r in nr)this[Mi(r)]=new nr[r](this)},_getPropsFromConfig(r){if(!r)return{};const o=typeof r=="string";if(!(r===Object(r)&&!Array.isArray(r))&&!o)throw new Error("Config must either be an object or a string");if(o)return{apiVersion:r};if(Object.keys(r).filter(u=>!An.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${An.join(", ")}`);return r}},n}const au=ou(new $o),iu="sk_test_51N0b58IrPOgJLuRz4Wb2yfTesDUwl0XkEVytc3XdpM8HbgXFzxeym69Ctvbaz8FScWs1UuIeyssdr8ytWnCXfpGL0025XlmYXF",uo=new au(iu,{apiVersion:"2022-11-15"});async function su(){return await uo.products.list()}async function lu(t){return await uo.prices.retrieve(t)}function Cn(t,e,n){const r=t.slice();return r[4]=e[n],r}function In(t){let e,n,r;return{c(){e=R("div"),n=R("div"),r=ie(),this.h()},l(o){e=$(o,"DIV",{class:!0});var a=N(e);n=$(a,"DIV",{class:!0}),N(n).forEach(I),r=se(a),a.forEach(I),this.h()},h(){G(n,"class","animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"),G(e,"class","col-span-3")},m(o,a){ke(o,e,a),O(e,n),O(e,r)},p:xt,d(o){o&&I(e)}}}function Rn(t){let e,n;return e=new wo({props:{product:t[4]}}),{c(){fo(e.$$.fragment)},l(r){mo(e.$$.fragment,r)},m(r,o){yo(e,r,o),n=!0},p(r,o){const a={};o&1&&(a.product=r[4]),e.$set(a)},i(r){n||(Ot(e.$$.fragment,r),n=!0)},o(r){sr(e.$$.fragment,r),n=!1},d(r){vo(e,r)}}}function uu(t){let e,n,r,o,a,l,u,c,s,d,f,h,p,m,v,_,y,E=t[0],T=[];for(let g=0;g<E.length;g+=1)T[g]=Rn(Cn(t,E,g));const F=g=>sr(T[g],1,1,()=>{T[g]=null});let S=null;return E.length||(S=In()),{c(){e=R("div"),n=R("body"),r=R("div"),o=R("div"),a=R("h1"),l=J("Messicani"),u=ie(),c=R("h3"),s=J('"A veces lo ms simple es lo ms elegante"'),d=ie();for(let g=0;g<T.length;g+=1)T[g].c();S&&S.c(),f=ie(),h=R("div"),p=R("button"),m=J("Checkout with Stripe API"),this.h()},l(g){e=$(g,"DIV",{class:!0});var w=N(e);n=$(w,"BODY",{class:!0});var P=N(n);r=$(P,"DIV",{class:!0});var k=N(r);o=$(k,"DIV",{class:!0});var U=N(o);a=$(U,"H1",{});var D=N(a);l=X(D,"Messicani"),D.forEach(I),u=se(U),c=$(U,"H3",{});var x=N(c);s=X(x,'"A veces lo ms simple es lo ms elegante"'),x.forEach(I),U.forEach(I),d=se(k);for(let z=0;z<T.length;z+=1)T[z].l(k);S&&S.l(k),f=se(k),h=$(k,"DIV",{class:!0});var A=N(h);p=$(A,"BUTTON",{class:!0});var j=N(p);m=X(j,"Checkout with Stripe API"),j.forEach(I),A.forEach(I),k.forEach(I),P.forEach(I),w.forEach(I),this.h()},h(){G(o,"class","col-span-3"),G(p,"class","btn variant-filled-primary svelte-1uqwlms"),G(h,"class","col-span-3"),G(r,"class","grid grid-cols-3 gap-4"),G(n,"class","bg-transparent overflow-auto"),G(e,"class","container h-full mx-auto flex justify-center items-center svelte-1uqwlms")},m(g,w){ke(g,e,w),O(e,n),O(n,r),O(r,o),O(o,a),O(a,l),O(o,u),O(o,c),O(c,s),O(r,d);for(let P=0;P<T.length;P+=1)T[P]&&T[P].m(r,null);S&&S.m(r,null),O(r,f),O(r,h),O(h,p),O(p,m),v=!0,_||(y=or(p,"click",t[2]),_=!0)},p(g,[w]){if(w&1){E=g[0];let P;for(P=0;P<E.length;P+=1){const k=Cn(g,E,P);T[P]?(T[P].p(k,w),Ot(T[P],1)):(T[P]=Rn(k),T[P].c(),Ot(T[P],1),T[P].m(r,f))}for(Po(),P=E.length;P<T.length;P+=1)F(P);ho(),!E.length&&S?S.p(g,w):E.length?S&&(S.d(1),S=null):(S=In(),S.c(),S.m(r,f))}},i(g){if(!v){for(let w=0;w<E.length;w+=1)Ot(T[w]);v=!0}},o(g){T=T.filter(Boolean);for(let w=0;w<T.length;w+=1)sr(T[w]);v=!1},d(g){g&&I(e),po(T,g),S&&S.d(),_=!1,y()}}}function cu(t,e,n){const r=su();console.log(r);let o=[];r.then(u=>{u.data.forEach(async c=>{var s,d;if(c.active===!0){let f=await lu((s=c.default_price)==null?void 0:s.toString());o.push({id:(d=c.default_price)==null?void 0:d.toString(),name:c.name,price:f.unit_amount/100,img:c.images[0]})}n(0,o)})});async function a(){await fetch("api/stripeCheckout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:Mt(pe)})}).then(u=>u.json()).then(u=>{window.location.replace(u.url)})}return[o,a,()=>a()]}class pu extends $n{constructor(e){super(),Mn(this,e,cu,uu,Gn,{})}}export{pu as default};
